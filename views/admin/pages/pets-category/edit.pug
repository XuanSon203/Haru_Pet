extends ../../layout/default.pug
include ../../mixins/alert.pug
include ../../mixins/select-tree.pug

block main
  +alert-error("5000")
  h2.text-center.mb-4 Ch·ªânh s·ª≠a danh m·ª•c th√∫ c∆∞ng üëª
  form(action=`${prefixAdmin}/pets-category/edit/${data._id}?_method=PATCH` method="POST" class="container p-4 border rounded shadow-sm" enctype="multipart/form-data")
    .mb-3
      label.form-label(for="title") T√™n danh m·ª•c :
      input.form-control(type="text" name="title" required value=data.title placeholder="Nh·∫≠p t√™n danh m·ª•c")
    .mb-3
      label.form-label(for="parent_id") Ch·ªçn danh m·ª•c cha
      select.form-select(name="parent_id", id="parent_id")
        option(value="") -- Ch·ªçn danh m·ª•c cha --
        if categories
          +select-tree(categories, 1, data.parent_id)
    .mb-3
      div(class="form-group" upload-image)
        label.form-label(for="image") ·∫¢nh s·∫£n ph·∫©m (URL):
        input.form-control(type="file" name="image" accept="image/*" upload-image-input)
        if data.image
          img(src=`${data.image}`, alt="" upload-image-preview style="width: 150px; margin-top: 10px;")
        else
          img(src="", alt="" upload-image-preview style="width: 150px; margin-top: 10px;")
        button.btn.btn-danger.mt-2(type="button" upload-image-remove) X√≥a ·∫£nh

    .mb-3
      label.form-label(for="description") M√¥ t·∫£ :
      textarea.form-control.textarea-mce(name="description") #{data.description}
    .mb-3
      label.form-label(for="status") Tr·∫°ng th√°i:
      select.form-control(name="status" required)
        option(value="active" selected=(data.status === 'active') ? true : undefined) Ho·∫°t ƒë·ªông
        option(value="inactive" selected=(data.status === 'inactive') ? true : undefined) Ng·ª´ng ho·∫°t ƒë·ªông


    .mb-3
      label.form-label(for="position") V·ªã tr√≠:
      input.form-control(type="number" name="position" value=data.position)

    .d-flex.justify-content-end
      button.btn.btn-success(type="submit") C·∫≠p nh·∫≠t danh m·ª•c
